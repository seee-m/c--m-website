<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <style>
        @font-face {
            font-family: 'CustomFont';
            src: url('fonts/texgyreheros-regular.otf') format('opentype');
            font-style: normal;
        }

        @font-face {
            font-family: 'CustomFont';
            src: url('fonts/texgyreheroscn-bold.otf') format('opentype');
            font-style: normal;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'CustomFont', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
        }

        .fullscreen-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
        }

        .text-overlay {
            position: relative;
            z-index: 1;
            font-weight: 900;
            font-size: clamp(3rem, 8vw, 8rem);
            text-align: center;
            width: 50vw;
            line-height: 1.1;
            -webkit-text-stroke-width: 12px;
            paint-order: stroke fill;
            text-transform: uppercase;
            letter-spacing: -0.02em;
        }

        .bottom-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 11pt;
            z-index: 2;
            font-weight: 400;
        }

        .bottom-link {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 11pt;
            z-index: 2;
            text-decoration: none;
            font-weight: 400;
        }

        .bottom-link:hover {
            text-decoration: underline;
        }

        .links-page {
            display: none;
            background: black;
            color: white;
            width: 100vw;
            height: 100vh;
            padding: 40px;
            overflow-y: auto;
        }

        .links-page.active {
            display: block;
        }

        .links-container {
            width: 50vw;
            font-size: 11pt;
            line-height: 1.6;
        }

        .links-container a {
            color: white;
            text-decoration: none;
        }

        .links-container a:hover {
            text-decoration: underline;
        }

        .about-text {
            margin-top: 30px;
            width: 50vw;
            font-size: 11pt;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .text-overlay {
                width: 80vw;
            }

            .links-container,
            .about-text {
                width: 90vw;
            }
        }
    </style>
</head>
<body>
    <div id="home" class="fullscreen-container">
        <img id="bgImage" class="background-image" alt="Background">
        <canvas id="colorCanvas" style="display: none;"></canvas>
        <h1 id="overlayText" class="text-overlay"></h1>
        <div id="bottomInfo" class="bottom-info"></div>
        <a href="#links" id="bottomLink" class="bottom-link">More</a>
    </div>

    <div id="links" class="links-page">
        <div class="links-container">
            <a href="#home">Home</a>, 
            <a href="https://github.com">GitHub</a>, 
            <a href="https://twitter.com">Twitter</a>, 
            <a href="mailto:hello@example.com">Email</a>, 
            <a href="https://instagram.com">Instagram</a>
        </div>
        <div class="about-text">
            I'm a creative professional who loves combining visual design with technology. 
            This space showcases my work and experiments in web design, photography, and digital art. 
            Feel free to reach out if you'd like to collaborate or just want to chat about creative projects.
        </div>
    </div>

    <script>
        // Load images from the images folder
        async function loadImages() {
            // List your image files here
            return [
                'images/motocross.jpg',
                'images/waltzer.jpg'
            ];
        }

        // Sample text options
        const texts = [
            'Disgusting Pigs',
            'Absolute Identity ©',
            'Love in the age of Liposuction',
            'The future is certain'
        ];

        const infoText = 'Connor MacDonald [seee-m] — Designer & Applied Artist';

        const primaryColors = [
            '#FFFF00', // yellow
            '#FF0000', // red
            '#FF6600', // orange
            '#00FF00', // green
            '#9900FF', // purple
            '#0000FF', // blue
            '#00FFFF', // cyan
            '#FFFFFF', // white
            '#000000'  // black
        ];

        function getRandomItem(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function extractVibrantColor(img) {
            const canvas = document.getElementById('colorCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0, img.width, img.height);

            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            
            let maxSaturation = 0;
            let vibrantColor = null;

            for (let i = 0; i < data.length; i += 40) {
                const r = data[i];
                const g = data[i + 1];
                const b = data[i + 2];
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                const saturation = max === 0 ? 0 : (max - min) / max;
                const brightness = max / 255;

                if (saturation > maxSaturation && brightness > 0.3 && brightness < 0.9) {
                    maxSaturation = saturation;
                    vibrantColor = `rgb(${r}, ${g}, ${b})`;
                }
            }

            return vibrantColor || `rgb(${data[0]}, ${data[1]}, ${data[2]})`;
        }

        function getLuminance(color) {
            const rgb = color.match(/\d+/g).map(Number);
            const [r, g, b] = rgb.map(val => {
                val = val / 255;
                return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * r + 0.7152 * g + 0.0722 * b;
        }

        function getContrastColor(bgColor) {
            const luminance = getLuminance(bgColor);
            return luminance > 0.5 ? '#000000' : '#FFFFFF';
        }

        function findClosestPrimary(color) {
            const rgb = color.match(/\d+/g).map(Number);
            const [r, g, b] = rgb;
            
            let minDistance = Infinity;
            let closestColor = primaryColors[0];

            primaryColors.forEach(primary => {
                const prgb = primary.match(/\w\w/g).map(x => parseInt(x, 16));
                const distance = Math.sqrt(
                    Math.pow(r - prgb[0], 2) +
                    Math.pow(g - prgb[1], 2) +
                    Math.pow(b - prgb[2], 2)
                );
                
                if (distance < minDistance) {
                    minDistance = distance;
                    closestColor = primary;
                }
            });

            return closestColor;
        }

        function setupPage() {
            const img = document.getElementById('bgImage');
            
            loadImages().then(images => {
                const randomImage = getRandomItem(images);
                const randomText = getRandomItem(texts);

                img.onload = function() {
                    const vibrantColor = extractVibrantColor(img);
                    const strokeColor = getContrastColor(vibrantColor);
                    const primaryColor = findClosestPrimary(vibrantColor);

                    const textEl = document.getElementById('overlayText');
                    textEl.textContent = randomText;
                    textEl.style.color = vibrantColor;
                    textEl.style.webkitTextStrokeColor = strokeColor;

                    const infoEl = document.getElementById('bottomInfo');
                    infoEl.textContent = infoText;
                    infoEl.style.color = primaryColor;

                    const linkEl = document.getElementById('bottomLink');
                    linkEl.style.color = primaryColor;
                };

                img.src = randomImage;
            });
        }

        // Handle navigation
        window.addEventListener('hashchange', function() {
            const home = document.getElementById('home');
            const links = document.getElementById('links');
            
            if (window.location.hash === '#links') {
                home.style.display = 'none';
                links.classList.add('active');
            } else {
                home.style.display = 'flex';
                links.classList.remove('active');
            }
        });

        setupPage();
    </script>
</body>
</html>